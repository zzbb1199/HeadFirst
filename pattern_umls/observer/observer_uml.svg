<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="379.2px" preserveAspectRatio="none" style="width:705px;height:379px;" version="1.1" viewBox="0 0 705 379" width="705.6px" zoomAndPan="magnify"><defs><filter height="300%" id="f13udkbazwua94" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.600000023841858"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.200000047683716" dy="3.200000047683716" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster 可观察者/主题--><polygon fill="#FFFFFF" filter="url(#f13udkbazwua94)" points="224.4,19.2,304.4,19.2,310,39.2961,381.2,39.2961,381.2,271.2,224.4,271.2,224.4,19.2" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><line style="stroke: #000000; stroke-width: 1.2000000178813934;" x1="224.4" x2="310" y1="39.2961" y2="39.2961"/><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75.2" x="227.6" y="33.6352">可观察者/主题</text><!--cluster 观察者--><polygon fill="#FFFFFF" filter="url(#f13udkbazwua94)" points="400.4,153.6,441.2,153.6,446.8,173.6961,688.4,173.6961,688.4,369.6,400.4,369.6,400.4,153.6" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><line style="stroke: #000000; stroke-width: 1.2000000178813934;" x1="400.4" x2="446.8" y1="173.6961" y2="173.6961"/><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="403.6" y="168.0352">观察者</text><!--class Subject--><rect fill="#FEFECE" filter="url(#f13udkbazwua94)" height="74.4551" id="Subject" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="131.2" x="237.2" y="49.6"/><ellipse cx="282.6" cy="62.4" fill="#B4A7E5" rx="8.8" ry="8.8" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M280.1,59.2 L280.1,57.85 L284.85,57.85 L284.85,59.2 L283.35,59.2 Q283.225,59.2 283.1875,59.225 Q283.15,59.25 283.15,59.2875 L283.15,65.7625 Q283.15,65.8 283.1875,65.825 Q283.225,65.85 283.35,65.85 L284.85,65.85 L284.85,67.2 L280.1,67.2 L280.1,65.85 L281.6,65.85 Q281.7625,65.85 281.7813,65.8375 Q281.8,65.825 281.8,65.7625 L281.8,59.2875 Q281.8,59.225 281.7813,59.2125 Q281.7625,59.2 281.6,59.2 L280.1,59.2 Z "/><text fill="#000000" font-family="sans-serif" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="33.6" x="299" y="66.8461">Subject</text><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="238" x2="367.6" y1="75.2" y2="75.2"/><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="238" x2="367.6" y1="81.6" y2="81.6"/><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="116.8" x="242" y="94.8848">registerObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="116" x="242" y="106.9031">removeObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="121.6" x="242" y="118.9215">notifyObservers(Observable o)</text><!--class ConcreteSubject--><rect fill="#FEFECE" filter="url(#f13udkbazwua94)" height="86.4734" id="ConcreteSubject" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="126.4" x="240.4" y="172"/><ellipse cx="265" cy="184.8" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M264.75,189.6 Q263.2,189.6 262.3,188.4563 Q261.4,187.3125 261.4,184.95 Q261.4,182.95 262.35,181.6 Q263.3,180.25 264.95,180.25 Q265.3125,180.25 265.6625,180.25 Q266.0125,180.25 266.2625,180.25 Q266.4625,180.25 266.5938,180.25 Q266.725,180.25 267.05,180.25 L267.6125,183.2 L266.7625,183.2 Q266.4125,182.325 265.9563,181.9625 Q265.5,181.6 264.7625,181.6 Q263.8375,181.6 263.2938,182.5438 Q262.75,183.4875 262.75,184.95 Q262.75,186.5625 263.1688,187.4063 Q263.5875,188.25 264.7125,188.25 Q265.45,188.25 265.9688,187.7938 Q266.4875,187.3375 266.7625,186.225 L267.5875,186.6375 Q267.275,188.0375 266.525,188.8188 Q265.775,189.6 264.75,189.6 Z "/><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="279" y="189.2461">ConcreteSubject</text><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="241.2" x2="366" y1="197.6" y2="197.6"/><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="78.4" x="245.2" y="210.8848">ArrayList observers</text><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="241.2" x2="366" y1="216.0184" y2="216.0184"/><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="116.8" x="245.2" y="229.3031">registerObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="116" x="245.2" y="241.3215">removeObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="69.6" x="245.2" y="253.3398">notifyObservers()</text><!--class Observer--><rect fill="#FEFECE" filter="url(#f13udkbazwua94)" height="62.4367" id="Observer" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="262.4" x="413.2" y="184"/><ellipse cx="520.6" cy="196.8" fill="#B4A7E5" rx="8.8" ry="8.8" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M518.1,193.6 L518.1,192.25 L522.85,192.25 L522.85,193.6 L521.35,193.6 Q521.225,193.6 521.1875,193.625 Q521.15,193.65 521.15,193.6875 L521.15,200.1625 Q521.15,200.2 521.1875,200.225 Q521.225,200.25 521.35,200.25 L522.85,200.25 L522.85,201.6 L518.1,201.6 L518.1,200.25 L519.6,200.25 Q519.7625,200.25 519.7813,200.2375 Q519.8,200.225 519.8,200.1625 L519.8,193.6875 Q519.8,193.625 519.7813,193.6125 Q519.7625,193.6 519.6,193.6 L518.1,193.6 Z "/><text fill="#000000" font-family="sans-serif" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40.8" x="537" y="201.2461">Observer</text><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="414" x2="674.8" y1="209.6" y2="209.6"/><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="414" x2="674.8" y1="216" y2="216"/><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="252.8" x="418" y="229.2848">update(Observable o)    //pull类型，由观察者控制需要访问的字段</text><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="29.6" x="418" y="241.3031">update(</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="447.6" y="241.3031">需要通知的数据)</text><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="151.2" x="519.6" y="241.3031">push类型，由被观察者控制，更为安全</text><!--class ConcreteObserver--><rect fill="#FEFECE" filter="url(#f13udkbazwua94)" height="50.4184" id="ConcreteObserver" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="105.6" x="452.4" y="306.4"/><ellipse cx="464.4" cy="319.2" fill="#ADD1B2" rx="8.8" ry="8.8" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M464.15,324 Q462.6,324 461.7,322.8563 Q460.8,321.7125 460.8,319.35 Q460.8,317.35 461.75,316 Q462.7,314.65 464.35,314.65 Q464.7125,314.65 465.0625,314.65 Q465.4125,314.65 465.6625,314.65 Q465.8625,314.65 465.9938,314.65 Q466.125,314.65 466.45,314.65 L467.0125,317.6 L466.1625,317.6 Q465.8125,316.725 465.3563,316.3625 Q464.9,316 464.1625,316 Q463.2375,316 462.6938,316.9438 Q462.15,317.8875 462.15,319.35 Q462.15,320.9625 462.5688,321.8063 Q462.9875,322.65 464.1125,322.65 Q464.85,322.65 465.3688,322.1938 Q465.8875,321.7375 466.1625,320.625 L466.9875,321.0375 Q466.675,322.4375 465.925,323.2188 Q465.175,324 464.15,324 Z "/><text fill="#000000" font-family="sans-serif" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="80" x="475.6" y="323.6461">ConcreteObserver</text><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="453.2" x2="557.2" y1="332" y2="332"/><line style="stroke: #A80036; stroke-width: 1.2000000178813934;" x1="453.2" x2="557.2" y1="338.4" y2="338.4"/><text fill="#000000" font-family="sans-serif" font-size="8.8" lengthAdjust="spacingAndGlyphs" textLength="32.8" x="457.2" y="351.6848">update()</text><path d="M4.8,68.4 L4.8,104.807 L208.8,104.807 L208.8,76.4 L200.8,68.4 L4.8,68.4 " fill="#FBFB77" filter="url(#f13udkbazwua94)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M200.8,68.4 L200.8,76.4 L208.8,76.4 L200.8,68.4 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="9.6" y="84.3184">观察者模式将主题和观察者之间松耦合，</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="135.2" x="9.6" y="98.5219">主题不知道观察者具体类是谁</text><!--link Subject to ConcreteSubject--><path d="M303.1328,140.3456 C303.1992,150.8952 303.2688,161.8496 303.3328,171.996 " fill="none" id="Subject-ConcreteSubject" style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="297.5328,140.3112,303.0312,124.276,308.732,140.24,297.5328,140.3112" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><!--link Observer to ConcreteObserver--><path d="M528.7792,261.7472 C523.5728,276.9952 517.9752,293.388 513.5408,306.3738 " fill="none" id="Observer-ConcreteObserver" style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="523.528,259.7952,533.9984,246.4632,534.1272,263.4144,523.528,259.7952" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><!--link Subject to Observer--><path d="M368.4992,122.0808 C404.096,140.7632 447.8168,163.7096 482.7648,182.052 " fill="none" id="Subject-Observer" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><polygon fill="#A80036" points="486.3336,183.9248,481.4462,177.7447,482.792,182.0654,478.4713,183.4112,486.3336,183.9248" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><!--link ConcreteSubject to ConcreteObserver--><path d="M370.4944,259.748 C380.4272,265.8984 390.6136,272.02 400.4,277.6 C417.7712,287.5048 437.2,297.6232 454.5664,306.3389 " fill="none" id="ConcreteSubject-ConcreteObserver" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><polygon fill="#A80036" points="366.848,257.4816,371.2752,263.9993,370.2457,259.5924,374.6525,258.563,366.848,257.4816" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><!--
@startuml

package 可观察者/主题{
    interface Subject{
        registerObserver(Observer o)
        removeObserver(Observer o)
        notifyObservers(Observable o)
    }


   class ConcreteSubject{
        ArrayList observers
        registerObserver(Observer o)
        removeObserver(Observer o)
        notifyObservers()
   }

   Subject <|.. ConcreteSubject
}

package 观察者{
    interface Observer{
        update(Observable o)    //pull类型，由观察者控制需要访问的字段
        update(//需要通知的数据)   //push类型，由被观察者控制，更为安全
    }

    class ConcreteObserver{
        update()
    }

    Observer<|.. ConcreteObserver
}

Subject - -> Observer
ConcreteSubject <- - ConcreteObserver

note as N1
    观察者模式将主题和观察者之间松耦合，
    主题不知道观察者具体类是谁
end note
@enduml

PlantUML version 1.2018.11(Sun Sep 23 00:43:53 CST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1248-b22
Operating System: Windows 10
OS Version: 10.0
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>