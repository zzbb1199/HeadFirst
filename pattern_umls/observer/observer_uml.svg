<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="315.9px" preserveAspectRatio="none" style="width:799px;height:315px;" version="1.1" viewBox="0 0 799 315" width="799.2px" zoomAndPan="magnify"><defs><filter height="300%" id="f2gjtrxmbgvl2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.7999999523162842"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.5999999046325684" dy="3.5999999046325684" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster 可观察者/主题--><polygon fill="#FFFFFF" filter="url(#f2gjtrxmbgvl2)" points="19.8,21.6,109.8,21.6,116.1,44.2081,196.2,44.2081,196.2,305.1,19.8,305.1,19.8,21.6" style="stroke: #000000; stroke-width: 1.3499999642372131;"/><line style="stroke: #000000; stroke-width: 1.3499999642372131;" x1="19.8" x2="116.1" y1="44.2081" y2="44.2081"/><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84.6" x="23.4" y="37.8395">可观察者/主题</text><!--cluster 观察者--><polygon fill="#FFFFFF" filter="url(#f2gjtrxmbgvl2)" points="217.8,28.35,263.7,28.35,270,50.9581,541.8,50.9581,541.8,284.85,217.8,284.85,217.8,28.35" style="stroke: #000000; stroke-width: 1.3499999642372131;"/><line style="stroke: #000000; stroke-width: 1.3499999642372131;" x1="217.8" x2="270" y1="50.9581" y2="50.9581"/><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40.5" x="221.4" y="44.5895">观察者</text><!--class Subject--><rect fill="#FEFECE" filter="url(#f2gjtrxmbgvl2)" height="83.762" id="Subject" style="stroke: #A80036; stroke-width: 1.3499999642372131;" width="147.6" x="34.2" y="55.8"/><ellipse cx="85.275" cy="70.2" fill="#B4A7E5" rx="9.9" ry="9.9" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><path d="M82.4625,66.6 L82.4625,65.0812 L87.8062,65.0812 L87.8062,66.6 L86.1187,66.6 Q85.9781,66.6 85.9359,66.6281 Q85.8937,66.6562 85.8937,66.6984 L85.8937,73.9828 Q85.8937,74.025 85.9359,74.0531 Q85.9781,74.0812 86.1187,74.0812 L87.8062,74.0812 L87.8062,75.6 L82.4625,75.6 L82.4625,74.0812 L84.15,74.0812 Q84.3328,74.0812 84.3539,74.0672 Q84.375,74.0531 84.375,73.9828 L84.375,66.6984 Q84.375,66.6281 84.3539,66.6141 Q84.3328,66.6 84.15,66.6 L82.4625,66.6 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="103.725" y="75.2019">Subject</text><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="35.1" x2="180.9" y1="84.6" y2="84.6"/><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="35.1" x2="180.9" y1="91.8" y2="91.8"/><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="131.4" x="39.6" y="106.7454">registerObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="130.5" x="39.6" y="120.266">removeObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="136.8" x="39.6" y="133.7867">notifyObservers(Observable o)</text><!--class ConcreteSubject--><rect fill="#FEFECE" filter="url(#f2gjtrxmbgvl2)" height="97.2826" id="ConcreteSubject" style="stroke: #A80036; stroke-width: 1.3499999642372131;" width="142.2" x="37.8" y="193.5"/><ellipse cx="65.475" cy="207.9" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><path d="M65.1937,213.3 Q63.45,213.3 62.4375,212.0133 Q61.425,210.7266 61.425,208.0687 Q61.425,205.8187 62.4937,204.3 Q63.5625,202.7812 65.4187,202.7812 Q65.8266,202.7812 66.2203,202.7812 Q66.6141,202.7812 66.8953,202.7812 Q67.1203,202.7812 67.268,202.7812 Q67.4156,202.7812 67.7812,202.7812 L68.4141,206.1 L67.4578,206.1 Q67.0641,205.1156 66.5508,204.7078 Q66.0375,204.3 65.2078,204.3 Q64.1672,204.3 63.5555,205.3617 Q62.9437,206.4234 62.9437,208.0687 Q62.9437,209.8828 63.4148,210.832 Q63.8859,211.7812 65.1516,211.7812 Q65.9812,211.7812 66.5648,211.268 Q67.1484,210.7547 67.4578,209.5031 L68.3859,209.9672 Q68.0344,211.5422 67.1906,212.4211 Q66.3469,213.3 65.1937,213.3 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.8" lengthAdjust="spacingAndGlyphs" textLength="81.9" x="81.225" y="212.9018">ConcreteSubject</text><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="38.7" x2="179.1" y1="222.3" y2="222.3"/><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="88.2" x="43.2" y="237.2454">ArrayList observers</text><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="38.7" x2="179.1" y1="243.0206" y2="243.0206"/><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="131.4" x="43.2" y="257.966">registerObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="130.5" x="43.2" y="271.4867">removeObserver(Observer o)</text><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="78.3" x="43.2" y="285.0073">notifyObservers()</text><!--class Observer--><rect fill="#FEFECE" filter="url(#f2gjtrxmbgvl2)" height="70.2413" id="Observer" style="stroke: #A80036; stroke-width: 1.3499999642372131;" width="295.2" x="232.2" y="62.55"/><ellipse cx="353.025" cy="76.95" fill="#B4A7E5" rx="9.9" ry="9.9" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><path d="M350.2125,73.35 L350.2125,71.8312 L355.5562,71.8312 L355.5562,73.35 L353.8687,73.35 Q353.7281,73.35 353.6859,73.3781 Q353.6437,73.4062 353.6437,73.4484 L353.6437,80.7328 Q353.6437,80.775 353.6859,80.8031 Q353.7281,80.8312 353.8687,80.8312 L355.5562,80.8312 L355.5562,82.35 L350.2125,82.35 L350.2125,80.8312 L351.9,80.8312 Q352.0828,80.8312 352.1039,80.8172 Q352.125,80.8031 352.125,80.7328 L352.125,73.4484 Q352.125,73.3781 352.1039,73.3641 Q352.0828,73.35 351.9,73.35 L350.2125,73.35 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.8" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45.9" x="371.475" y="81.9519">Observer</text><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="233.1" x2="526.5" y1="91.35" y2="91.35"/><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="233.1" x2="526.5" y1="98.55" y2="98.55"/><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="284.4" x="237.6" y="113.4954">update(Observable o)    //pull类型，由观察者控制需要访问的字段</text><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="33.3" x="237.6" y="127.016">update(</text><text fill="#000000" font-family="sans-serif" font-size="9.9" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72.9" x="270.9" y="127.016">需要通知的数据)</text><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="170.1" x="351.9" y="127.016">push类型，由被观察者控制，更为安全</text><!--class ConcreteObserver--><rect fill="#FEFECE" filter="url(#f2gjtrxmbgvl2)" height="56.7207" id="ConcreteObserver" style="stroke: #A80036; stroke-width: 1.3499999642372131;" width="118.8" x="276.3" y="213.75"/><ellipse cx="289.8" cy="228.15" fill="#ADD1B2" rx="9.9" ry="9.9" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><path d="M289.5187,233.55 Q287.775,233.55 286.7625,232.2633 Q285.75,230.9766 285.75,228.3187 Q285.75,226.0687 286.8187,224.55 Q287.8875,223.0312 289.7437,223.0312 Q290.1516,223.0312 290.5453,223.0312 Q290.9391,223.0312 291.2203,223.0312 Q291.4453,223.0312 291.593,223.0312 Q291.7406,223.0312 292.1062,223.0312 L292.7391,226.35 L291.7828,226.35 Q291.3891,225.3656 290.8758,224.9578 Q290.3625,224.55 289.5328,224.55 Q288.4922,224.55 287.8805,225.6117 Q287.2687,226.6734 287.2687,228.3187 Q287.2687,230.1328 287.7398,231.082 Q288.2109,232.0312 289.4766,232.0312 Q290.3062,232.0312 290.8898,231.518 Q291.4734,231.0047 291.7828,229.7531 L292.7109,230.2172 Q292.3594,231.7922 291.5156,232.6711 Q290.6719,233.55 289.5187,233.55 Z "/><text fill="#000000" font-family="sans-serif" font-size="10.8" lengthAdjust="spacingAndGlyphs" textLength="90" x="302.4" y="233.1518">ConcreteObserver</text><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="277.2" x2="394.2" y1="242.55" y2="242.55"/><line style="stroke: #A80036; stroke-width: 1.3499999642372131;" x1="277.2" x2="394.2" y1="249.75" y2="249.75"/><text fill="#000000" font-family="sans-serif" font-size="9.9" lengthAdjust="spacingAndGlyphs" textLength="36.9" x="281.7" y="264.6954">update()</text><path d="M559.35,76.95 L559.35,117.9079 L788.85,117.9079 L788.85,85.95 L779.85,76.95 L559.35,76.95 " fill="#FBFB77" filter="url(#f2gjtrxmbgvl2)" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><path d="M779.85,76.95 L779.85,85.95 L788.85,85.95 L779.85,76.95 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="210.6" x="564.75" y="94.8582">观察者模式将主题和观察者之间松耦合，</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="152.1" x="564.75" y="110.8371">主题不知道观察者具体类是谁</text><!--link Subject to ConcreteSubject--><path d="M108.3744,157.8888 C108.4491,169.7571 108.5274,182.0808 108.5994,193.4955 " fill="none" id="Subject-ConcreteSubject" style="stroke: #A80036; stroke-width: 0.8999999761581421; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="102.0744,157.8501,108.2601,139.8105,114.6735,157.77,102.0744,157.8501" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><!--link Observer to ConcreteObserver--><path d="M363.8034,150.2937 C357.1785,171.7245 349.7625,195.7131 344.2131,213.6636 " fill="none" id="Observer-ConcreteObserver" style="stroke: #A80036; stroke-width: 0.8999999761581421; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="357.7896,148.4181,369.1242,133.0812,369.8271,152.1396,357.7896,148.4181" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><!--link Subject to Observer--><path d="M182.0547,97.65 C197.1054,97.65 212.1561,97.65 227.2068,97.65 " fill="none" id="Subject-Observer" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><polygon fill="#A80036" points="231.8778,97.65,223.7778,94.05,227.3778,97.65,223.7778,101.25,231.8778,97.65" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><!--link ConcreteSubject to ConcreteObserver--><path d="M185.0913,242.1 C215.4537,242.1 245.817,242.1 276.1794,242.1 " fill="none" id="ConcreteSubject-ConcreteObserver" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><polygon fill="#A80036" points="180.2178,242.1,188.3178,245.7,184.7178,242.1,188.3178,238.5,180.2178,242.1" style="stroke: #A80036; stroke-width: 0.8999999761581421;"/><!--
@startuml

package 可观察者/主题{
    interface Subject{
        registerObserver(Observer o)
        removeObserver(Observer o)
        notifyObservers(Observable o)
    }


   class ConcreteSubject{
        ArrayList observers
        registerObserver(Observer o)
        removeObserver(Observer o)
        notifyObservers()
   }

   Subject <|.. ConcreteSubject
}

package 观察者{
    interface Observer{
        update(Observable o)    //pull类型，由观察者控制需要访问的字段
        update(//需要通知的数据)   //push类型，由被观察者控制，更为安全
    }

    class ConcreteObserver{
        update()
    }

    Observer<|.. ConcreteObserver
}

Subject -> Observer
ConcreteSubject <- ConcreteObserver

note as N1
    观察者模式将主题和观察者之间松耦合，
    主题不知道观察者具体类是谁
end note
@enduml

PlantUML version 1.2018.11(Sun Sep 23 00:43:53 CST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1248-b22
Operating System: Windows 10
OS Version: 10.0
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>